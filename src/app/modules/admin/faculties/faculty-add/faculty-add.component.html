<h2 mat-dialog-title>Add Faculty</h2>

<mat-dialog-content [formGroup]="facultyForm">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-x-5">
        <mat-form-field>
            <mat-label>First name</mat-label>
            <input matInput formControlName="first_name" />

            <mat-error>First name is required.</mat-error>
        </mat-form-field>

        <mat-form-field>
            <mat-label>Middle name</mat-label>
            <input matInput formControlName="middle_name" />

            <mat-error>Middle name is required.</mat-error>
        </mat-form-field>

        <mat-form-field>
            <mat-label>Last name</mat-label>
            <input matInput formControlName="last_name" />

            <mat-error>Last name is required.</mat-error>
        </mat-form-field>

        <mat-form-field>
            <mat-label>Position</mat-label>
            <input matInput formControlName="position" />

            <mat-error>Position is required.</mat-error>
        </mat-form-field>

        <div></div>
        <div></div>

        <mat-form-field>
            <mat-label>Email</mat-label>

            <input type="email" matInput formControlName="email" />

            <mat-error
                >Email is required and should be a valid email
                format.</mat-error
            >
        </mat-form-field>

        <!-- Password field -->
        <mat-form-field class="w-full">
            <mat-label>Password</mat-label>
            <input
                id="password"
                matInput
                type="password"
                [formControlName]="'password'"
                #passwordField
            />
            <button
                mat-icon-button
                type="button"
                (click)="
                    passwordField.type === 'password'
                        ? (passwordField.type = 'text')
                        : (passwordField.type = 'password')
                "
                matSuffix
            >
                <mat-icon
                    class="icon-size-5"
                    *ngIf="passwordField.type === 'password'"
                    [svgIcon]="'heroicons_solid:eye'"
                ></mat-icon>
                <mat-icon
                    class="icon-size-5"
                    *ngIf="passwordField.type === 'text'"
                    [svgIcon]="'heroicons_solid:eye-off'"
                ></mat-icon>
            </button>
            <mat-error>
                Password is required and at least 6 characters long.
            </mat-error>
        </mat-form-field>

        <!-- Password confirm field -->
        <mat-form-field class="w-full">
            <mat-label>Password (Confirm)</mat-label>
            <input
                id="password-confirm"
                matInput
                type="password"
                [formControlName]="'confirmPassword'"
                #confirmPasswordField
            />
            <button
                mat-icon-button
                type="button"
                (click)="
                    confirmPasswordField.type === 'password'
                        ? (confirmPasswordField.type = 'text')
                        : (confirmPasswordField.type = 'password')
                "
                matSuffix
            >
                <mat-icon
                    class="icon-size-5"
                    *ngIf="confirmPasswordField.type === 'password'"
                    [svgIcon]="'heroicons_solid:eye'"
                ></mat-icon>
                <mat-icon
                    class="icon-size-5"
                    *ngIf="confirmPasswordField.type === 'text'"
                    [svgIcon]="'heroicons_solid:eye-off'"
                ></mat-icon>
            </button>
            <mat-error
                *ngIf="facultyForm.get('confirmPassword').hasError('required')"
            >
                Password confirmation is required
            </mat-error>
            <mat-error
                *ngIf="facultyForm.get('confirmPassword').hasError('mustMatch')"
            >
                Passwords must match
            </mat-error>
        </mat-form-field>
    </div>
</mat-dialog-content>

<mat-dialog-actions>
    <button id="close" class="ml-auto" mat-button mat-dialog-close>
        Cancel
    </button>

    <button (click)="save()" mat-button class="mat-raised-button mat-primary">
        <span *ngIf="!facultyForm.disabled">Save</span>

        <mat-progress-spinner
            *ngIf="facultyForm.disabled"
            [diameter]="24"
            [mode]="'indeterminate'"
        ></mat-progress-spinner>
    </button>
</mat-dialog-actions>
